   1               		.file	"modem.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               		.section	.text.modem_init,"ax",@progbits
  17               	.global	modem_init
  19               	modem_init:
  20               	.LFB45:
  21               	.LSM0:
  22               	/* prologue: function */
  23               	/* frame size = 0 */
  24               	.LSM1:
  25 0000 1092 0000 		sts MODEM_TxHead,__zero_reg__
  26               	.LSM2:
  27 0004 1092 0000 		sts MODEM_TxTail,__zero_reg__
  28               	.LSM3:
  29 0008 1092 0000 		sts MODEM_RxHead,__zero_reg__
  30               	.LSM4:
  31 000c 1092 0000 		sts MODEM_RxTail,__zero_reg__
  32               	/* epilogue start */
  33               	.LSM5:
  34 0010 0895      		ret
  35               	.LFE45:
  37               		.section	.text.modem_getc,"ax",@progbits
  38               	.global	modem_getc
  40               	modem_getc:
  41               	.LFB46:
  42               	.LSM6:
  43               	/* prologue: function */
  44               	/* frame size = 0 */
  45               	.LSM7:
  46 0000 9091 0000 		lds r25,MODEM_RxHead
  47 0004 8091 0000 		lds r24,MODEM_RxTail
  48 0008 9817      		cp r25,r24
  49 000a 01F4      		brne .L4
  50 000c 20E0      		ldi r18,lo8(256)
  51 000e 31E0      		ldi r19,hi8(256)
  52 0010 00C0      		rjmp .L5
  53               	.L4:
  54               	.LSM8:
  55 0012 E091 0000 		lds r30,MODEM_RxTail
  56               	.LVL0:
  57 0016 EF5F      		subi r30,lo8(-(1))
  58               	.LSM9:
  59 0018 E093 0000 		sts MODEM_RxTail,r30
  60               	.LSM10:
  61 001c F0E0      		ldi r31,lo8(0)
  62 001e E050      		subi r30,lo8(-(MODEM_RxBuf))
  63 0020 F040      		sbci r31,hi8(-(MODEM_RxBuf))
  64               	.LVL1:
  65 0022 3081      		ld r19,Z
  66               	.LVL2:
  67               	.LSM11:
  68 0024 2091 0000 		lds r18,MODEM_LastRxError
  69 0028 922F      		mov r25,r18
  70 002a 80E0      		ldi r24,lo8(0)
  71 002c AC01      		movw r20,r24
  72 002e 430F      		add r20,r19
  73 0030 511D      		adc r21,__zero_reg__
  74 0032 9A01      		movw r18,r20
  75               	.L5:
  76               	.LSM12:
  77 0034 C901      		movw r24,r18
  78               	/* epilogue start */
  79 0036 0895      		ret
  80               	.LFE46:
  82               		.section	.text.modem_TxBufferEmpty,"ax",@progbits
  83               	.global	modem_TxBufferEmpty
  85               	modem_TxBufferEmpty:
  86               	.LFB49:
  87               	.LSM13:
  88               	/* prologue: function */
  89               	/* frame size = 0 */
  90               	.LSM14:
  91 0000 9091 0000 		lds r25,MODEM_TxHead
  92 0004 8091 0000 		lds r24,MODEM_TxTail
  93 0008 20E0      		ldi r18,lo8(0)
  94 000a 9817      		cp r25,r24
  95 000c 01F4      		brne .L8
  96 000e 21E0      		ldi r18,lo8(1)
  97               	.L8:
  98               	.LSM15:
  99 0010 822F      		mov r24,r18
 100               	/* epilogue start */
 101 0012 0895      		ret
 102               	.LFE49:
 104               		.section	.text.modem_RxBufferEmpty,"ax",@progbits
 105               	.global	modem_RxBufferEmpty
 107               	modem_RxBufferEmpty:
 108               	.LFB50:
 109               	.LSM16:
 110               	/* prologue: function */
 111               	/* frame size = 0 */
 112               	.LSM17:
 113 0000 9091 0000 		lds r25,MODEM_RxHead
 114 0004 8091 0000 		lds r24,MODEM_RxTail
 115 0008 20E0      		ldi r18,lo8(0)
 116 000a 9817      		cp r25,r24
 117 000c 01F4      		brne .L11
 118 000e 21E0      		ldi r18,lo8(1)
 119               	.L11:
 120               	.LSM18:
 121 0010 822F      		mov r24,r18
 122               	/* epilogue start */
 123 0012 0895      		ret
 124               	.LFE50:
 126               		.section	.text.modem_getTxBuffer,"ax",@progbits
 127               	.global	modem_getTxBuffer
 129               	modem_getTxBuffer:
 130               	.LFB51:
 131               	.LSM19:
 132               	.LVL3:
 133               	/* prologue: function */
 134               	/* frame size = 0 */
 135 0000 AC01      		movw r20,r24
 136               	.LSM20:
 137 0002 20E0      		ldi r18,lo8(0)
 138 0004 30E0      		ldi r19,hi8(0)
 139               	.LVL4:
 140 0006 00C0      		rjmp .L14
 141               	.LVL5:
 142               	.L16:
 143               	.LSM21:
 144 0008 E091 0000 		lds r30,MODEM_TxTail
 145               	.LVL6:
 146 000c EF5F      		subi r30,lo8(-(1))
 147               	.LSM22:
 148 000e E093 0000 		sts MODEM_TxTail,r30
 149               	.LSM23:
 150 0012 F0E0      		ldi r31,lo8(0)
 151 0014 E050      		subi r30,lo8(-(MODEM_TxBuf))
 152 0016 F040      		sbci r31,hi8(-(MODEM_TxBuf))
 153               	.LVL7:
 154 0018 8081      		ld r24,Z
 155 001a FA01      		movw r30,r20
 156 001c E20F      		add r30,r18
 157 001e F31F      		adc r31,r19
 158 0020 8083      		st Z,r24
 159 0022 2F5F      		subi r18,lo8(-(1))
 160 0024 3F4F      		sbci r19,hi8(-(1))
 161               	.LVL8:
 162               	.L14:
 163               	.LSM24:
 164 0026 9091 0000 		lds r25,MODEM_TxHead
 165 002a 8091 0000 		lds r24,MODEM_TxTail
 166 002e 9817      		cp r25,r24
 167 0030 01F0      		breq .L15
 168 0032 6F3F      		cpi r22,255
 169 0034 7105      		cpc r23,__zero_reg__
 170 0036 01F0      		breq .L16
 171 0038 04F0      		brlt .L16
 172               	.L15:
 173               	.LSM25:
 174 003a C901      		movw r24,r18
 175               	.LVL9:
 176               	/* epilogue start */
 177 003c 0895      		ret
 178               	.LFE51:
 180               		.section	.text.modem_putRxBuffer,"ax",@progbits
 181               	.global	modem_putRxBuffer
 183               	modem_putRxBuffer:
 184               	.LFB52:
 185               	.LSM26:
 186               	.LVL10:
 187               	/* prologue: function */
 188               	/* frame size = 0 */
 189 0000 AC01      		movw r20,r24
 190               	.LSM27:
 191 0002 20E0      		ldi r18,lo8(0)
 192 0004 30E0      		ldi r19,hi8(0)
 193               	.LVL11:
 194 0006 00C0      		rjmp .L19
 195               	.LVL12:
 196               	.L22:
 197               	.LBB2:
 198               	.LSM28:
 199 0008 E091 0000 		lds r30,MODEM_RxHead
 200               	.LVL13:
 201 000c EF5F      		subi r30,lo8(-(1))
 202               	.LSM29:
 203 000e 8091 0000 		lds r24,MODEM_RxTail
 204 0012 E817      		cp r30,r24
 205 0014 01F4      		brne .L20
 206 0016 22E0      		ldi r18,lo8(2)
 207 0018 30E0      		ldi r19,hi8(2)
 208               	.LVL14:
 209 001a 00C0      		rjmp .L21
 210               	.LVL15:
 211               	.L20:
 212               	.LSM30:
 213 001c E093 0000 		sts MODEM_RxHead,r30
 214               	.LSM31:
 215 0020 F0E0      		ldi r31,lo8(0)
 216 0022 DA01      		movw r26,r20
 217 0024 A20F      		add r26,r18
 218 0026 B31F      		adc r27,r19
 219 0028 8C91      		ld r24,X
 220 002a E050      		subi r30,lo8(-(MODEM_RxBuf))
 221 002c F040      		sbci r31,hi8(-(MODEM_RxBuf))
 222               	.LVL16:
 223 002e 8083      		st Z,r24
 224               	.LSM32:
 225 0030 2F5F      		subi r18,lo8(-(1))
 226 0032 3F4F      		sbci r19,hi8(-(1))
 227               	.LVL17:
 228               	.L19:
 229 0034 2617      		cp r18,r22
 230 0036 3707      		cpc r19,r23
 231 0038 00F0      		brlo .L22
 232 003a 20E0      		ldi r18,lo8(0)
 233 003c 30E0      		ldi r19,hi8(0)
 234               	.LVL18:
 235               	.L21:
 236               	.LBE2:
 237               	.LSM33:
 238 003e C901      		movw r24,r18
 239               	.LVL19:
 240               	/* epilogue start */
 241 0040 0895      		ret
 242               	.LFE52:
 244               		.data
 245               	.LC0:
 246 0000 4D6F 6465 		.string	"Modem Buffer Overflow\r\n"
 246      6D20 4275 
 246      6666 6572 
 246      204F 7665 
 246      7266 6C6F 
 247               		.section	.text.modem_putc,"ax",@progbits
 248               	.global	modem_putc
 250               	modem_putc:
 251               	.LFB47:
 252               	.LSM34:
 253               	.LVL20:
 254               	/* prologue: function */
 255               	/* frame size = 0 */
 256 0000 282F      		mov r18,r24
 257               	.LSM35:
 258 0002 9091 0000 		lds r25,MODEM_TxHead
 259               	.LVL21:
 260 0006 9F5F      		subi r25,lo8(-(1))
 261               	.LSM36:
 262 0008 8091 0000 		lds r24,MODEM_TxTail
 263               	.LVL22:
 264 000c 9817      		cp r25,r24
 265 000e 01F4      		brne .L25
 266               	.LSM37:
 267 0010 82E0      		ldi r24,lo8(2)
 268 0012 8093 0000 		sts MODEM_LastRxError,r24
 269               	.LSM38:
 270 0016 80E0      		ldi r24,lo8(.LC0)
 271 0018 90E0      		ldi r25,hi8(.LC0)
 272 001a 0E94 0000 		call Debug
 273               	.LVL23:
 274 001e 0895      		ret
 275               	.LVL24:
 276               	.L25:
 277               	.LSM39:
 278 0020 E92F      		mov r30,r25
 279 0022 F0E0      		ldi r31,lo8(0)
 280 0024 E050      		subi r30,lo8(-(MODEM_TxBuf))
 281 0026 F040      		sbci r31,hi8(-(MODEM_TxBuf))
 282 0028 2083      		st Z,r18
 283               	.LSM40:
 284 002a 9093 0000 		sts MODEM_TxHead,r25
 285 002e 0895      		ret
 286               	.LFE47:
 288               		.section	.text.modem_puts,"ax",@progbits
 289               	.global	modem_puts
 291               	modem_puts:
 292               	.LFB48:
 293               	.LSM41:
 294               	.LVL25:
 295 0000 CF93      		push r28
 296 0002 DF93      		push r29
 297               	/* prologue: function */
 298               	/* frame size = 0 */
 299 0004 EC01      		movw r28,r24
 300 0006 00C0      		rjmp .L29
 301               	.LVL26:
 302               	.L30:
 303               	.LSM42:
 304 0008 2196      		adiw r28,1
 305 000a 0E94 0000 		call modem_putc
 306               	.LVL27:
 307               	.L29:
 308               	.LSM43:
 309 000e 8881      		ld r24,Y
 310 0010 8823      		tst r24
 311 0012 01F4      		brne .L30
 312               	/* epilogue start */
 313               	.LSM44:
 314 0014 DF91      		pop r29
 315 0016 CF91      		pop r28
 316               	.LVL28:
 317 0018 0895      		ret
 318               	.LFE48:
 320               		.lcomm MODEM_TxBuf,256
 321               		.lcomm MODEM_RxBuf,256
 322               		.lcomm MODEM_TxHead,1
 323               		.lcomm MODEM_TxTail,1
 324               		.lcomm MODEM_RxHead,1
 325               		.lcomm MODEM_RxTail,1
 326               		.lcomm MODEM_LastRxError,1
 327               		.comm TIME,2,1
 408               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 modem.c
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:2      *ABS*:0000003f __SREG__
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:3      *ABS*:0000003e __SP_H__
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:4      *ABS*:0000003d __SP_L__
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:5      *ABS*:00000034 __CCP__
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:19     .text.modem_init:00000000 modem_init
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:321    .bss:00000200 MODEM_TxHead
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:322    .bss:00000201 MODEM_TxTail
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:323    .bss:00000202 MODEM_RxHead
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:324    .bss:00000203 MODEM_RxTail
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:40     .text.modem_getc:00000000 modem_getc
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:320    .bss:00000100 MODEM_RxBuf
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:325    .bss:00000204 MODEM_LastRxError
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:85     .text.modem_TxBufferEmpty:00000000 modem_TxBufferEmpty
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:107    .text.modem_RxBufferEmpty:00000000 modem_RxBufferEmpty
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:129    .text.modem_getTxBuffer:00000000 modem_getTxBuffer
                             .bss:00000000 MODEM_TxBuf
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:183    .text.modem_putRxBuffer:00000000 modem_putRxBuffer
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:250    .text.modem_putc:00000000 modem_putc
C:\Users\Mike\AppData\Local\Temp/cc8E2Apk.s:291    .text.modem_puts:00000000 modem_puts
                            *COM*:00000002 TIME

UNDEFINED SYMBOLS
Debug
__do_copy_data
__do_clear_bss
